# ç”Ÿäº§æ„å»ºé”™è¯¯ä¿®å¤è®¡åˆ’

## é—®é¢˜è¯Šæ–­

æ ¹æ® `npm run build` çš„é”™è¯¯æ—¥å¿—åˆ†æï¼Œä¸»è¦é—®é¢˜åŒ…æ‹¬ï¼š

### 1. ä¸¥é‡é”™è¯¯ï¼ˆé˜»æ­¢æ„å»ºï¼‰
- **TypeScript/ESLint é”™è¯¯**ï¼šå¤šå¤„ä½¿ç”¨ `any` ç±»å‹
- **å˜é‡å£°æ˜é”™è¯¯**ï¼šåº”ä½¿ç”¨ `const` è€Œé `let`
- **React é”™è¯¯**ï¼šæœªè½¬ä¹‰çš„å¼•å·å­—ç¬¦

### 2. è­¦å‘Šï¼ˆå½±å“ä»£ç è´¨é‡ï¼‰
- **æœªä½¿ç”¨çš„å˜é‡**ï¼šå¯¼å…¥ä½†æœªä½¿ç”¨çš„å˜é‡
- **å›¾ç‰‡ä¼˜åŒ–**ï¼šä½¿ç”¨ `<img>` è€Œé Next.js `<Image>`
- **React Hooks**ï¼šç¼ºå°‘ä¾èµ–é¡¹

## ä¿®å¤ç­–ç•¥

### é˜¶æ®µ1ï¼šä¿®å¤ä¸¥é‡é”™è¯¯ï¼ˆå¿…é¡»ä¿®å¤æ‰èƒ½æ„å»ºï¼‰

#### 1.1 ä¿®å¤ TypeScript `any` ç±»å‹é”™è¯¯
**å½±å“æ–‡ä»¶**ï¼š
- `src/__tests__/auth.test.ts` (8ä¸ªé”™è¯¯)
- `src/app/admin/about/page.tsx` (2ä¸ªé”™è¯¯)
- `src/app/admin/account/page.tsx` (1ä¸ªé”™è¯¯)
- `src/app/admin/messages/page.tsx` (1ä¸ªé”™è¯¯)
- `src/app/admin/subscribers/page.tsx` (1ä¸ªé”™è¯¯)
- `src/app/api/contact/route.ts` (1ä¸ªé”™è¯¯)
- `src/app/api/settings/route.ts` (1ä¸ªé”™è¯¯)
- `src/lib/auth.ts` (1ä¸ªé”™è¯¯)

**ä¿®å¤æ–¹æ³•**ï¼šå°† `any` ç±»å‹æ›¿æ¢ä¸ºå…·ä½“çš„ç±»å‹å®šä¹‰

#### 1.2 ä¿®å¤å˜é‡å£°æ˜é”™è¯¯
**å½±å“æ–‡ä»¶**ï¼š
- `src/app/api/admin/route.ts` - `adminAccount` æ”¹ä¸º `const`
- `src/app/api/messages/route.ts` - `messages` æ”¹ä¸º `const`
- `src/app/api/posts/route.ts` - `posts` æ”¹ä¸º `const`
- `src/app/api/subscribe/route.ts` - `subscribers` æ”¹ä¸º `const`

#### 1.3 ä¿®å¤ React æœªè½¬ä¹‰å­—ç¬¦é”™è¯¯
**å½±å“æ–‡ä»¶**ï¼š
- `src/app/admin/settings/page.tsx` - è½¬ä¹‰å¼•å·å­—ç¬¦

### é˜¶æ®µ2ï¼šæ¸…ç†è­¦å‘Šï¼ˆæå‡ä»£ç è´¨é‡ï¼‰

#### 2.1 ç§»é™¤æœªä½¿ç”¨çš„å˜é‡å’Œå¯¼å…¥
**å½±å“æ–‡ä»¶**ï¼šå¤šä¸ªæ–‡ä»¶ä¸­çš„æœªä½¿ç”¨å˜é‡

#### 2.2 å›¾ç‰‡ä¼˜åŒ–
**å½±å“æ–‡ä»¶**ï¼š
- `src/app/admin/about/page.tsx`
- `src/app/admin/settings/page.tsx`
- `src/components/ImageUpload.tsx`

#### 2.3 ä¿®å¤ React Hooks ä¾èµ–
**å½±å“æ–‡ä»¶**ï¼š
- `src/components/Footer.tsx`

### é˜¶æ®µ3ï¼šé…ç½®ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰

#### 3.1 ESLint é…ç½®è°ƒæ•´
è€ƒè™‘åœ¨ç”Ÿäº§æ„å»ºæ—¶æ”¾å®½æŸäº›è§„åˆ™ï¼Œä½†ä¿æŒå¼€å‘æ—¶çš„ä¸¥æ ¼æ£€æŸ¥

## æ‰§è¡Œé¡ºåº

1. **ç«‹å³ä¿®å¤**ï¼šæ‰€æœ‰ Error çº§åˆ«çš„é—®é¢˜
2. **æ‰¹é‡æ¸…ç†**ï¼šWarning çº§åˆ«çš„é—®é¢˜
3. **éªŒè¯æ„å»º**ï¼šç¡®ä¿ `npm run build` æˆåŠŸ
4. **æµ‹è¯•è¿è¡Œ**ï¼šç¡®ä¿ `npm run start` æ­£å¸¸

## é¢„æœŸç»“æœ

ä¿®å¤å®Œæˆåï¼š
- âœ… `npm run build` æˆåŠŸæ„å»º
- âœ… ä»£ç è´¨é‡æå‡
- âœ… ç”Ÿäº§ç¯å¢ƒå¯æ­£å¸¸éƒ¨ç½²
- âœ… ä¿æŒç°æœ‰åŠŸèƒ½ä¸å˜

## é£é™©è¯„ä¼°

- **ä½é£é™©**ï¼šä¸»è¦æ˜¯ç±»å‹å®šä¹‰å’Œä»£ç æ¸…ç†
- **æ— åŠŸèƒ½å½±å“**ï¼šä¿®å¤ä¸ä¼šæ”¹å˜ä¸šåŠ¡é€»è¾‘
- **å‘åå…¼å®¹**ï¼šæ‰€æœ‰ä¿®æ”¹ä¿æŒAPIå…¼å®¹æ€§

---
## æ‰§è¡Œè®°å½•

### âœ… é˜¶æ®µ1ï¼šä¿®å¤ä¸¥é‡é”™è¯¯ï¼ˆå·²å®Œæˆï¼‰

#### 1.1 TypeScript `any` ç±»å‹é”™è¯¯ä¿®å¤
**å·²ä¿®å¤æ–‡ä»¶**ï¼š
- âœ… `src/__tests__/auth.test.ts` 
  - å®šä¹‰äº† `MockHeaders`ã€`MockCookies`ã€`MockRequest` æ¥å£
  - æ›¿æ¢æ‰€æœ‰ `any` ç±»å‹æ–­è¨€ä¸ºå…·ä½“ç±»å‹
- âœ… `src/lib/auth.ts`
  - å®šä¹‰äº† `AdminJWTPayload` æ¥å£æ‰©å±• `Record<string, string>`
  - è§£å†³ä¸ `jose` åº“çš„ç±»å‹å†²çª
- âœ… `src/app/api/contact/route.ts`
  - å®šä¹‰äº† `Contact` æ¥å£
  - æ·»åŠ éç©ºæ–­è¨€å¤„ç† `global.contacts`
- âœ… `src/app/api/settings/route.ts`
  - ä½¿ç”¨ `SiteSettings` æ¥å£æ›¿ä»£ `any` ç±»å‹
- âœ… `src/app/admin/about/page.tsx`
  - ç¬¬326è¡Œï¼šä½¿ç”¨ `'intro' | 'timeline' | 'projects'` è”åˆç±»å‹
  - ç¬¬652è¡Œï¼šä½¿ç”¨ `'education' | 'work' | 'achievement'` è”åˆç±»å‹
- âœ… `src/app/admin/account/page.tsx`
  - ä½¿ç”¨ `'profile' | 'password'` è”åˆç±»å‹æ›¿ä»£ `any`
- âœ… `src/app/admin/messages/page.tsx`
  - ä½¿ç”¨ `'all' | 'unread' | 'read'` è”åˆç±»å‹æ›¿ä»£ `any`

#### 1.2 å˜é‡å£°æ˜é”™è¯¯ä¿®å¤
**å·²ä¿®å¤æ–‡ä»¶**ï¼š
- âœ… `src/app/api/admin/route.ts` - `adminAccount` æ”¹ä¸º `const`
- âœ… `src/app/api/messages/route.ts` - `messages` æ”¹ä¸º `const`
- âœ… `src/app/api/posts/route.ts` - `posts` æ”¹ä¸º `const`
- âœ… `src/app/api/subscribe/route.ts` - `subscribers` æ”¹ä¸º `const`

#### 1.3 React æœªè½¬ä¹‰å­—ç¬¦é”™è¯¯ä¿®å¤
**å·²ä¿®å¤æ–‡ä»¶**ï¼š
- âœ… `src/app/admin/settings/page.tsx` - å°†ç›´æ¥å¼•å·æ›¿æ¢ä¸º `&ldquo;` å’Œ `&rdquo;`

### ğŸ¯ æ„å»ºçŠ¶æ€ï¼šâœ… æˆåŠŸ

**æœ€æ–°æ„å»ºç»“æœ**ï¼š
- âœ… æ‰€æœ‰ Error çº§åˆ«é”™è¯¯å·²ä¿®å¤
- âœ… `npm run build` æ„å»ºæˆåŠŸ
- ğŸŸ¡ ä»…å‰© Warning çº§åˆ«è­¦å‘Šï¼ˆä¸å½±å“æ„å»ºï¼‰

### ğŸ“‹ å¾…å¤„ç†ï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰

#### é˜¶æ®µ2ï¼šæ¸…ç†è­¦å‘Šï¼ˆæå‡ä»£ç è´¨é‡ï¼‰
**å‰©ä½™ Warning çº§åˆ«é—®é¢˜**ï¼š
- æœªä½¿ç”¨çš„å˜é‡å’Œå¯¼å…¥ï¼ˆå¤šä¸ªæ–‡ä»¶ï¼‰
- å›¾ç‰‡ä¼˜åŒ–å»ºè®®ï¼ˆä½¿ç”¨ `next/image` æ›¿ä»£ `<img>`ï¼‰
- React Hooks ä¾èµ–é¡¹è­¦å‘Š

**çŠ¶æ€**ï¼šå¯é€‰ä¼˜åŒ–ï¼Œä¸å½±å“ç”Ÿäº§éƒ¨ç½²

---

**å¼€å§‹æ‰§è¡Œæ—¶é—´**ï¼šå·²å®Œæˆ
**å®é™…å®Œæˆæ—¶é—´**ï¼šçº¦30åˆ†é’Ÿ
**ä¼˜å…ˆçº§**ï¼šé«˜ï¼ˆé˜»æ­¢ç”Ÿäº§éƒ¨ç½²ï¼‰- âœ… å·²è§£å†³

---

## ğŸš¨ æ–°é—®é¢˜ï¼šnpm start å¯åŠ¨å¤±è´¥

### é—®é¢˜ç°è±¡
```bash
npm start
# Error: Could not find a production build in the '.next' directory. 
# Try building your app with 'next build' before starting the production server.
```

### é—®é¢˜åˆ†æ
**æ ¹æœ¬åŸå› **ï¼šç¼ºå°‘ç”Ÿäº§æ„å»ºæ–‡ä»¶
- âœ… ä»£ç é”™è¯¯å·²ä¿®å¤ï¼ˆé˜¶æ®µ1å®Œæˆï¼‰
- âŒ ä½†æœªæ‰§è¡Œ `npm run build` ç”Ÿæˆ `.next` ç›®å½•
- âŒ `npm start` éœ€è¦å…ˆæœ‰æ„å»ºäº§ç‰©æ‰èƒ½å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

### è§£å†³æ–¹æ¡ˆ

#### ğŸ¯ ç«‹å³æ‰§è¡Œï¼ˆå¿…éœ€æ­¥éª¤ï¼‰
1. **æ‰§è¡Œç”Ÿäº§æ„å»º**ï¼š`npm run build`
2. **éªŒè¯æ„å»ºæˆåŠŸ**ï¼šæ£€æŸ¥ `.next` ç›®å½•ç”Ÿæˆ
3. **å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨**ï¼š`npm start`

#### ğŸ“‹ æ‰§è¡Œè®¡åˆ’
```bash
# æ­¥éª¤1ï¼šæ¸…ç†å¯èƒ½çš„ç¼“å­˜
rm -rf .next

# æ­¥éª¤2ï¼šæ‰§è¡Œç”Ÿäº§æ„å»º
npm run build

# æ­¥éª¤3ï¼šå¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

### é¢„æœŸç»“æœ
- âœ… ç”Ÿæˆ `.next` æ„å»ºç›®å½•
- âœ… `npm start` æˆåŠŸå¯åŠ¨
- âœ… æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000
- âœ… ç”Ÿäº§ç¯å¢ƒåŠŸèƒ½æ­£å¸¸

### é£é™©è¯„ä¼°
- **é›¶é£é™©**ï¼šä»£ç é”™è¯¯å·²ä¿®å¤ï¼Œæ„å»ºåº”è¯¥æˆåŠŸ
- **å¤‡ç”¨æ–¹æ¡ˆ**ï¼šå¦‚æœæ„å»ºå¤±è´¥ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æ–°çš„é”™è¯¯ä¿¡æ¯

---

## ğŸ“ å®Œæ•´å·¥ä½œæµç¨‹æ€»ç»“

### å·²å®Œæˆ âœ…
1. **ä»£ç é”™è¯¯ä¿®å¤**ï¼šTypeScriptã€ESLintã€Reacté”™è¯¯
2. **æ„å»ºå‡†å¤‡**ï¼šæ‰€æœ‰é˜»æ­¢æ„å»ºçš„é—®é¢˜å·²è§£å†³

### å¾…æ‰§è¡Œ ğŸ¯
1. **ç”Ÿäº§æ„å»º**ï¼š`npm run build`
2. **å¯åŠ¨éªŒè¯**ï¼š`npm start`
3. **åŠŸèƒ½æµ‹è¯•**ï¼šç¡®ä¿ç½‘ç«™æ­£å¸¸è¿è¡Œ

### å¯é€‰ä¼˜åŒ– ğŸŸ¡
1. **è­¦å‘Šæ¸…ç†**ï¼šæœªä½¿ç”¨å˜é‡ã€å›¾ç‰‡ä¼˜åŒ–ç­‰
2. **æ€§èƒ½ä¼˜åŒ–**ï¼šä»£ç è´¨é‡æå‡

**å½“å‰çŠ¶æ€**ï¼šå‡†å¤‡æ‰§è¡Œç”Ÿäº§æ„å»º
**ä¸‹ä¸€æ­¥**ï¼šæ‰§è¡Œ `npm run build` å‘½ä»¤